Unfortunately, the original Sliding Window Approach where Tran and Test Data Sets were generated by shuffling data, were prone to overfitting.
That is because if row for Hour X was in the Training Set, a row for Hour X+e, where e is small, was likely to be in the Test Set. 
So in a way, we were validing against training data (since weather changes does not change much within a few hours). BAD!

A better approach is to train on one set of years and test on another. Indeed, results with that are much less impressive. They are found below :(

MLP Classifier is Used


*****************************************************************
8 LOCATIONS, 4h LOOKBACK, PRIDICT FOR 2019 & 2020
*****************************************************************

Merged Location Data; initial rows = 59477, final rows = 56040
Generated Feature Set, observations in = 49129, out = 10510
Feature Set feature count = 414
Model Score for VAR = Temp Is 60.08394088754883 for prediction interval = 24h and for lookback window = 4h
=================

Merged Location Data; initial rows = 59477, final rows = 56040
Generated Feature Set, observations in = 49129, out = 10510
Feature Set feature count = 414
Model Score for VAR = WindSpeed Is 35.057568488294315 for prediction interval = 24h and for lookback window = 4h
=================

Merged Location Data; initial rows = 59477, final rows = 56040
Generated Feature Set, observations in = 49129, out = 10510
Feature Set feature count = 414
F1 Score for VAR = is_clear Is 0.32489389726328116 for prediction interval = 24h and for lookback window = 4h
MCC Score for VAR = is_clear Is 0.12700888082663422 for prediction interval = 24h and for lookback window = 4h
[[9162 1986]
 [2627 1110]]
=================

Merged Location Data; initial rows = 59477, final rows = 56040
Generated Feature Set, observations in = 49129, out = 10510
Feature Set feature count = 414
F1 Score for VAR = is_precip Is 0.13935018050541517 for prediction interval = 24h and for lookback window = 4h
MCC Score for VAR = is_precip Is 0.06775522266285972 for prediction interval = 24h and for lookback window = 4h
[[12308   710]
 [ 1674   193]]
=================

*****************************************************************
12 LOCATIONS, 12h LOOKBACK, PRIDICT FOR 2019 & 2020
*****************************************************************


Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 34787, out = 24852
Feature Set feature count = 590
MSE for VAR = Temp Is 57.73162801385276 for prediction interval = 24h and for lookback window = 4h
R2 Score for VAR = Temp Is 0.8512815737336863 for prediction interval = 24h and for lookback window = 4h
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 34787, out = 24852
Feature Set feature count = 590
MSE for VAR = WindSpeed Is 32.45263489299294 for prediction interval = 24h and for lookback window = 4h
R2 Score for VAR = WindSpeed Is -0.20594511848821107 for prediction interval = 24h and for lookback window = 4h
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 34787, out = 24852
Feature Set feature count = 590
F1 Score for VAR = is_clear Is 0.3056340682117958 for prediction interval = 24h and for lookback window = 4h
MCC Score for VAR = is_clear Is 0.15638335429332148 for prediction interval = 24h and for lookback window = 4h
[[8645 1100]
 [2585  811]]
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 34787, out = 24852
Feature Set feature count = 590
F1 Score for VAR = is_precip Is 0.1595330739299611 for prediction interval = 24h and for lookback window = 4h
MCC Score for VAR = is_precip Is 0.08197634284003748 for prediction interval = 24h and for lookback window = 4h
[[10776   695]
 [ 1465   205]]

*****************************************************************
12 LOCATIONS, 6h LOOKBACK, PRIDICT FOR 2019 & 2020
*****************************************************************
Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 32590, out = 27049
Feature Set feature count = 884
MSE for VAR = Temp Is 62.19606884488554 for prediction interval = 24h and for lookback window = 6h
R2 Score for VAR = Temp Is 0.8368839670015034 for prediction interval = 24h and for lookback window = 6h
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 32590, out = 27049
Feature Set feature count = 884
MSE for VAR = WindSpeed Is 30.05933072246642 for prediction interval = 24h and for lookback window = 6h
R2 Score for VAR = WindSpeed Is -0.1160936222479112 for prediction interval = 24h and for lookback window = 6h
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 32590, out = 27049
Feature Set feature count = 884
F1 Score for VAR = is_clear Is 0.28981406628940987 for prediction interval = 24h and for lookback window = 6h
MCC Score for VAR = is_clear Is 0.13875197861584276 for prediction interval = 24h and for lookback window = 6h
[[8121 1047]
 [2467  717]]
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 32590, out = 27049
Feature Set feature count = 884
F1 Score for VAR = is_precip Is 0.16144684605205117 for prediction interval = 24h and for lookback window = 6h
MCC Score for VAR = is_precip Is 0.10048804615375746 for prediction interval = 24h and for lookback window = 6h
[[10268   505]
 [ 1396   183]]
=================

*****************************************************************
12 LOCATIONS, 3h LOOKBACK, PRIDICT FOR 2020 ONLY
*****************************************************************

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 35954, out = 23685
Feature Set feature count = 443
MSE for VAR = Temp Is 49.11198852331889 for prediction interval = 24h and for lookback window = 3h
R2 Score for VAR = Temp Is 0.8652712073555835 for prediction interval = 24h and for lookback window = 3h
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 35954, out = 23685
Feature Set feature count = 443
MSE for VAR = WindSpeed Is 31.483767941587033 for prediction interval = 24h and for lookback window = 3h
R2 Score for VAR = WindSpeed Is -0.2123433399969492 for prediction interval = 24h and for lookback window = 3h
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 35954, out = 23685
Feature Set feature count = 443
F1 Score for VAR = is_clear Is 0.336790726052471 for prediction interval = 24h and for lookback window = 3h
MCC Score for VAR = is_clear Is 0.15459023209916817 for prediction interval = 24h and for lookback window = 3h
[[4251  704]
 [1470  552]]
=================

Merged Location Data; initial rows = 59477, final rows = 45900
Generated Feature Set, observations in = 35954, out = 23685
Feature Set feature count = 443
F1 Score for VAR = is_precip Is 0.09874476987447697 for prediction interval = 24h and for lookback window = 3h
MCC Score for VAR = is_precip Is 0.02802732379805278 for prediction interval = 24h and for lookback window = 3h
[[5841  326]
 [ 751   59]]
=================

*****************************************************************
8 LOCATIONS, 6h LOOKBACK, PRIDICT FOR Half of 2019 and 2020
-..re-defined is_clear to be True if Partly Cloudy

			exploreModel('../Chicago_2011-2020_CLEANED.csv', 
				['../Peoria_2011-2020_CLEANED.csv', '../Madison_2011-2020_CLEANED.csv', '../CedarRapids_2011-2020_CLEANED.csv', '../GreenBay_2011-2020_CLEANED.csv', 
				 '../Des_Moines_2011-2020_CLEANED.csv', '../Indianapolis_2011-2020_CLEANED.csv', '../FortWayne_2011-2020_CLEANED.csv', '../GrandRapids_2011-2020_CLEANED.csv'],
				prediction_interval, 
				lookback_window, 
				predicted_var,
				['Temp', 'WindSpeed', 'WindNortherly', 'WindEasterly', 'day_of_year_sin', 'day_of_year_cos', 'Pressure', 'Humidity', 'DewPoint', 
				'is_clear', 'is_precip', 'is_heavy_precip'],
				(True if ('is_' in predicted_var) else False)
			)
*****************************************************************

*************ALPHA = 0.2*********************************

Feature Set feature count = 554
TEST: F1 Score for VAR = is_clear Is 0.5552941176470589 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_clear Is 0.2990081049434062 for prediction interval = 12h and for lookback window = 6h
[[4925 1791]
 [1611 2124]]
TRAIN: F1 Score for VAR = is_clear Is 0.9615214861774264 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_clear Is 0.9422686212635661 for prediction interval = 12h and for lookback window = 6h
[[23516   798]
 [  161 11982]]
=================

Feature Set feature count = 554
TEST: F1 Score for VAR = is_precip Is 0.27693807898586054 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_precip Is 0.20333939983624108 for prediction interval = 12h and for lookback window = 6h
[[8684  583]
 [ 900  284]]
TRAIN: F1 Score for VAR = is_precip Is 0.9457364341085271 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_precip Is 0.9394072567322643 for prediction interval = 12h and for lookback window = 6h
[[32037    83]
 [  372  3965]]
=================

*************ALPHA = 0.5*********************************

Feature Set feature count = 554
TEST: F1 Score for VAR = is_clear Is 0.5326413548210872 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_clear Is 0.2809475071320902 for prediction interval = 12h and for lookback window = 6h
[[5079 1637]
 [1785 1950]]
TRAIN: F1 Score for VAR = is_clear Is 0.941354862505635 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_clear Is 0.9118814755891663 for prediction interval = 12h and for lookback window = 6h
[[23541   773]
 [  658 11485]]
=================

Feature Set feature count = 554
TEST: F1 Score for VAR = is_precip Is 0.2697533970810267 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_precip Is 0.2006675305707771 for prediction interval = 12h and for lookback window = 6h
[[8732  535]
 [ 916  268]]
TRAIN: F1 Score for VAR = is_precip Is 0.8285193858964353 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_precip Is 0.8171326031247148 for prediction interval = 12h and for lookback window = 6h
[[31955   165]
 [ 1153  3184]]
=================




*************ALPHA = 1.0*********************************

Feature Set feature count = 554
TEST: F1 Score for VAR = is_clear Is 0.5520194091622663 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_clear Is 0.3292144768679206 for prediction interval = 12h and for lookback window = 6h
[[5378 1338]
 [1801 1934]]
TRAIN: F1 Score for VAR = is_clear Is 0.7757741894033494 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_clear Is 0.67158530044032 for prediction interval = 12h and for lookback window = 6h
[[22166  2148]
 [ 3087  9056]]
=================

Feature Set feature count = 554
TEST: F1 Score for VAR = is_precip Is 0.31259333001493284 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_precip Is 0.24691106211605787 for prediction interval = 12h and for lookback window = 6h
[[8756  511]
 [ 870  314]]
TRAIN: F1 Score for VAR = is_precip Is 0.6730491803278689 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_precip Is 0.6432743127140693 for prediction interval = 12h and for lookback window = 6h
[[31398   722]
 [ 1771  2566]]
=================

*************ALPHA = 1.5*********************************

Feature Set feature count = 554
TEST: F1 Score for VAR = is_clear Is 0.5683247570040022 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_clear Is 0.3544818123714393 for prediction interval = 12h and for lookback window = 6h
[[5443 1273]
 [1747 1988]]
TRAIN: F1 Score for VAR = is_clear Is 0.7073446327683616 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_clear Is 0.5748957604292128 for prediction interval = 12h and for lookback window = 6h
[[21585  2729]
 [ 4005  8138]]
=================

Feature Set feature count = 554
TEST: F1 Score for VAR = is_precip Is 0.23360399750156155 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_precip Is 0.21556758870360698 for prediction interval = 12h and for lookback window = 6h
[[9037  230]
 [ 997  187]]
TRAIN: F1 Score for VAR = is_precip Is 0.34692805881323296 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_precip Is 0.36780749755904807 for prediction interval = 12h and for lookback window = 6h
[[31735   385]
 [ 3346   991]]
=================


*************ALPHA = 2.0*********************************

Feature Set feature count = 554
TEST: F1 Score for VAR = is_clear Is 0.5580011897679953 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_clear Is 0.35691303030858657 for prediction interval = 12h and for lookback window = 6h
[[5603 1113]
 [1859 1876]]
TRAIN: F1 Score for VAR = is_clear Is 0.6546821975603045 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_clear Is 0.5168240631290849 for prediction interval = 12h and for lookback window = 6h
[[21789  2525]
 [ 5005  7138]]
=================

Feature Set feature count = 554
TEST: F1 Score for VAR = is_precip Is 0.2412252712188896 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_precip Is 0.23395468093695984 for prediction interval = 12h and for lookback window = 6h
[[9073  194]
 [ 995  189]]
TRAIN: F1 Score for VAR = is_precip Is 0.25435669262143124 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_precip Is 0.28290895279597034 for prediction interval = 12h and for lookback window = 6h
[[31749   371]
 [ 3651   686]]
=================


*****************************************************************
8 LOCATIONS, 6h LOOKBACK, PRIDICT FOR Half of 2019 and 2020
USE XGBoost instead of Neural Network

			exploreModel('../Chicago_2011-2020_CLEANED.csv', 
				['../Peoria_2011-2020_CLEANED.csv', '../Madison_2011-2020_CLEANED.csv', '../CedarRapids_2011-2020_CLEANED.csv', '../GreenBay_2011-2020_CLEANED.csv', 
				 '../Des_Moines_2011-2020_CLEANED.csv', '../Indianapolis_2011-2020_CLEANED.csv', '../FortWayne_2011-2020_CLEANED.csv', '../GrandRapids_2011-2020_CLEANED.csv'],
				prediction_interval, 
				lookback_window, 
				predicted_var,
				['Temp', 'WindSpeed', 'WindNortherly', 'WindEasterly', 'day_of_year_sin', 'day_of_year_cos', 'Pressure', 'Humidity', 'DewPoint', 
				'is_clear', 'is_precip', 'is_heavy_precip'],
				(True if ('is_' in predicted_var) else False)
			)
*****************************************************************			

Feature Set feature count = 554
TEST: F1 Score for VAR = is_clear Is 0.6008336926836281 for prediction interval = 12h and for lookback window = 6h
TEST: MCC Score for VAR = is_clear Is 0.40578550255357765 for prediction interval = 12h and for lookback window = 6h
[[5584 1132]
 [1645 2090]]
TRAIN: F1 Score for VAR = is_clear Is 0.6175380051909529 for prediction interval = 12h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_clear Is 0.46778115589039715 for prediction interval = 12h and for lookback window = 6h
[[21543  2771]
 [ 5481  6662]]
=================

 ==> THE BEST RESULT YET!


Feature Set feature count = 554
TEST: F1 Score for VAR = is_clear Is 0.46144259230409723 for prediction interval = 24h and for lookback window = 6h
TEST: MCC Score for VAR = is_clear Is 0.24510108803444522 for prediction interval = 24h and for lookback window = 6h
[[5428 1069]
 [2388 1481]]
TRAIN: F1 Score for VAR = is_clear Is 0.6835542080297325 for prediction interval = 24h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_clear Is 0.5804376866276916 for prediction interval = 24h and for lookback window = 6h
[[22498  1442]
 [ 5029  6989]]
=================

Merged Location Data; initial rows = 59477, final rows = 55722
Generated Feature Set, observations in = 46324, out = 13315
Feature Set feature count = 554
TEST: F1 Score for VAR = is_precip Is 0.06492478226444971 for prediction interval = 24h and for lookback window = 6h
TEST: MCC Score for VAR = is_precip Is 0.0699412074333461 for prediction interval = 24h and for lookback window = 6h
[[9144   98]
 [1083   41]]
TRAIN: F1 Score for VAR = is_precip Is 0.43725135623869804 for prediction interval = 24h and for lookback window = 6h
TRAIN: MCC Score for VAR = is_precip Is 0.4959906861927119 for prediction interval = 24h and for lookback window = 6h
[[31637    47]
 [ 3065  1209]]
=================

===> 24h predictions are very underwhelming!


...Tried adding data before March 2014 to predict is_clear. Didn't make a difference!
...So far, is_clear F2 is stuck in mid-40's and MCC in mid-20's no matter what we do!



*********************************************

PRECIPITATION: 
	-redefined it as : It precipitates at hour X if it precipitates anywhere in the X-3 ... X+3 range
	-introduce piecewise split: X samples train, Y samples, Z samples skip (to prevent data leakage
	-For example: featureset_train, featureset_test = piecewiseSplit(featureset, 8, 2, 3)
	-Proved that adjacent locations are necessary for better prediction and that they are *to the East* 
	-Can get it more than half of the times correct **no more than 12h in advance**
	-Use MLP Classifier

MLP==>

Loaded file for VAR = is_precip, predictionInterval = 12h, lookback = 2h
Piecewise Split: trainset len = 35844, testset_len = 8928
TEST: F1 Score for VAR = is_precip Is 0.5002573340195575 for prediction interval = 12h and for lookback window = 2h
TEST: MCC Score for VAR = is_precip Is 0.27230466176252965 for prediction interval = 12h and for lookback window = 2h
[[4557 1887]
 [1026 1458]]
TRAIN: F1 Score for VAR = is_precip Is 0.8895536125172573 for prediction interval = 12h and for lookback window = 2h
TRAIN: MCC Score for VAR = is_precip Is 0.8616125629591634 for prediction interval = 12h and for lookback window = 2h
[[26192   121]
 [ 1799  7732]]




'../Columbus_2011-2020_CLEANED.csv',
['../Peoria_2011-2020_CLEANED.csv', '../CedarRapids_2011-2020_CLEANED.csv', '../Madison_2011-2020_CLEANED.csv',  '../Indianapolis_2011-2020_CLEANED.csv', '../Chicago_2011-2020_CLEANED.csv', 
 '../GrandRapids_2011-2020_CLEANED.csv', '../FortWayne_2011-2020_CLEANED.csv', '../Cincinatti_2011-2020_CLEANED.csv'],
prediction_interval, 
lookback_window, 
predicted_var,
['day_of_year_sin', 'day_of_year_cos', 'hour_of_day_cos', 'hour_of_day_sin', 'DewPoint', 'Pressure', 'Humidity', 'Temp', 'WindNortherly', 'WindEasterly', 'WindSpeed'],
['cloud_intensity', 'precip_intensity']
			)

=================

WINDSPEED 
	-is also predictable within 12h to a decent degree:
	-using .corr(), established that WindSpeed variable is by far the most relevant
	-predicting for hour X is really predicting average in the X-2 .. X+2 range
	-using XGBoost

Loaded file for VAR = WindSpeed, predictionInterval = 12h, lookback = 3h
Dropped 165 columns, 150 remaining
Piecewise Split: trainset len = 35788, testset_len = 8928
TEST MSE for VAR = WindSpeed Is 10.617263628725825 for prediction interval = 12h and for lookback window = 3h
TEST R2 Score for VAR = WindSpeed Is 0.5035784163659303 for prediction interval = 12h and for lookback window = 3h
TRAIN MSE for VAR = WindSpeed Is 2.7144010537912577 for prediction interval = 12h and for lookback window = 3h
TRAIN R2 Score for VAR = WindSpeed Is 0.8762328202766236 for prediction interval = 12h and for lookback window = 3h


'../Columbus_2011-2020_CLEANED.csv',
['../Peoria_2011-2020_CLEANED.csv', '../CedarRapids_2011-2020_CLEANED.csv', '../Madison_2011-2020_CLEANED.csv',  '../Indianapolis_2011-2020_CLEANED.csv', '../Chicago_2011-2020_CLEANED.csv', 
 '../GrandRapids_2011-2020_CLEANED.csv', '../FortWayne_2011-2020_CLEANED.csv', '../Cincinatti_2011-2020_CLEANED.csv'],
prediction_interval, 
lookback_window, 
predicted_var,
['day_of_year_sin', 'day_of_year_cos', 'hour_of_day_cos', 'hour_of_day_sin', 'DewPoint',  'Humidity', 'Temp', 'WindNortherly', 'WindEasterly', 'WindSpeed'],
['WindSpeed']